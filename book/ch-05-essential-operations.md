# 5 Հիմնական գործողություններ

_Երբ մեկը կասի, թե ուզում եմ այնպիսի ծրագրավորման լեզու, որտեղ ես միայն կասեմ, թե ինչ եմ ուզում, ապա նրա ձեռը մի շաքարաքլոր տվեք։_ ??

_— Ալան Պերլիս_

* [Ներածություն](5.1-Ներածություն)
    * Հիմնական գործողություններ
    * Ձևափոխություններ
    * Անդամերի արժեքավորիչներ
* Պատճենում և փոխանակում
    * Կոնտեյներների պատճենումը
    * Կոնտեյներների փոխանակումը
* Ռեսուրսների կառավարում
* Conventional Operations
    * Comparisons
    * Container Operations
    * Input and Output Operators
    * User-Defined Literals
    * swap()
    * hash<>
* Խորհուրդներ


## 5.1 Ներածություն

Որոշ գործողություններ, ինչպիսիք են սկզբնարժեքավորումը, վերագրումը, պատճենումն ու փոխանակումը, հիմնական են այն իմաստով, որ լեզվական կանոնները ինչ-որ նախապայմաններ ունեն դրանց համար։ Այլ գործողություններ, ինչպիսիք են, օրինակ, `==` և `<<`, ունեն սովորական իմաստ, որը վտանգավոր է անտեսել։

### 5.1.1 Հիմնական գործողություններ

Շատ նախագծերում օբյեկտի կառուցումը առանցքային դեր է խաղում։ This wide variety of uses is reflected in the range and flexibility of the language features supporting initialization. ??

Տիպի կոնստրուկտորները, դեստրուկտորները, վերագրման ու փոխանակման գործողությունները տրամաբանորեն անկախ չեն։ Մենք պետք է դրանք սահմանենք որպես համաձայնեցված խումբ կամ էլ տուժենք տրամաբանական ու արտադրողականության խնդիրների պատճառով։ Եթե `X` տիպն ունի ոչ հասարակ գործողություններ կատարող դեստրուկտոր, ինչպիսիք են հիշողության ազատումը կամ արգելափակման ազատումը (lock release), ապա հավանաբար պետք է այդ դասի համար սահմանել ֆունկցիաների լրիվ հավաքածուն.

```C++
class X {
public:
     X(Sometype);            // «սովորական կոնստրուկտոր»: օբյեկտի ստեղծում
     X();                    // լռելության կոնստրուկտոր
     X(const X&);            // պատճենի կոնստրուկտոր
     X(X&&);                 // փոխանակման կոնստրուկտոր
     X& operator=(const X&); // պատճենող վերագրում. մաքրել օբյեկտը և պատճենել նոր արժեքը
     X& operator=(X&&);      // փոխանակող վերագրում. մաքրել օբյեկտը և տեղփոխել նոր արժեքը
     ~X();                   // դեստրուկտոր. մաքրող գործողություն
     // ...
};
```

Գոյություն ունեն հինգ իրավիճակներ, երբ օբյեկտը կարող է պատճենվել կամ փոխանակվել.
* երբ այն վերագրվող արժեք է,
* երբ այն օբյեկտի սկզբնարժեքավորիչ է,
* երբ այն ֆունկցիայի արգումենտ է,
* երբ ֆունկցիայից վերադարձվող արժեք է,
* երբ բացառության օբյեկտ է։

Վերագրման ժամանակ օգտագործվում են վերագրման կամ փոխանակող վերագրման գործողությունները։ Սկզբունքորեն այլ դեպքերում կարելի է օգտագործել պատճենող կամ փոխանակող կանստրուկտորները։ Այնուամենայնիվ, պատճենող կամ տեղափոխող կանստրուկտորի կանչը սովորաբար օպտիմիզացվում է
However, a copy or move constructor invocation is often optimized away by constructing the object used to initialize right in the target object. For example:

```C++
X make(Sometype);
X x = make(value);
```


Here, a compiler will typically construct the X from make() directly in x; thus eliminating (“eliding”) a copy.
